{"version":3,"sources":["components/Search.js","components/Phonebook.js","components/Numbers.js","services/persons.js","App.js","index.js"],"names":["Search","_ref","getResults","useSearch","setSearch","useSearchResults","_jsxs","_Fragment","children","onSubmit","e","preventDefault","_jsx","value","onChange","target","type","style","listStyle","length","map","res","name","number","Phonebook","newName","setName","newNumber","setNumber","addPerson","marginTop","Numbers","usePeople","deleteOne","person","onClick","id","url","axios","get","then","data","post","catch","err","console","log","foundPerson","put","concat","delete","App","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","setSearchResults","getPeople","services","people","useEffect","formClear","className","searchNames","filter","toLowerCase","includes","filtered","some","find","window","confirm","_objectSpread","updatePerson","postPeople","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86a0e7c7.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Search = ({ getResults, useSearch, setSearch, useSearchResults }) => {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    getResults();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSearch}>\n        Search:{\" \"}\n        <input value={useSearch} onChange={(e) => setSearch(e.target.value)} />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul style={{ listStyle: \"none\" }}>\n        {useSearchResults.length > 0 ? (\n          useSearchResults.map((res) => (\n            <li key={res.name}>\n              Name: {res.name} #: {res.number}\n            </li>\n          ))\n        ) : (\n          <p>No results</p>\n        )}\n      </ul>\n    </>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\n\nconst Phonebook = ({ newName, setName, newNumber, setNumber, addPerson }) => {\n  return (\n    <>\n      <form onSubmit={addPerson}>\n        <div>\n          Name:{\" \"}\n          <input value={newName} onChange={(e) => setName(e.target.value)} />\n          <div>debug: {newName}</div>\n        </div>\n        <div>\n          Number:{\" \"}\n          <input\n            value={newNumber}\n            onChange={(e) => setNumber(e.target.value)}\n          />\n          <div>debug: {newNumber}</div>\n        </div>\n        <div>\n          <button style={{ marginTop: \"10px\" }} type=\"submit\">\n            Add\n          </button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default Phonebook;\n","import React from \"react\";\n\nconst Numbers = ({ usePeople, deleteOne }) => {\n  const handleDelete = (id, name) => {\n    deleteOne(id, name)\n  }\n  return (\n    <>\n      <ul style={{ listStyle: \"none\" }}>\n        {usePeople.map((person) => (\n          <li key={person.name}>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person.id, person.name)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Numbers;\n","import axios from 'axios';\n\nconst url = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(url);\n  return request.then(res => res.data);\n};\n\nconst createNew = (name, number, id) => {\n  return axios.post(url, {\n    name: name,\n    number: number,\n    id: id\n  }).catch(err => console.log(err))\n};\n\nconst updatePerson = (foundPerson) => {\n  const request = axios.put(`${url}/${foundPerson.id}`, foundPerson)\n  return request.then(res => res.data)\n}\n\nconst deletePerson = (id) => {\n   return axios.delete(`${url}/${id}`)\n  .catch(err => console.log(err))\n};\n\nexport default { getAll, createNew, updatePerson, deletePerson }","import './styles.css'\nimport React, { useState, useEffect } from 'react'\nimport Search from './components/Search'\nimport Phonebook from './components/Phonebook'\nimport Numbers from './components/Numbers'\nimport services from './services/persons'\n\nexport default function App() {\n  const [usePeople, setPeople] = useState([])\n  const [newName, setName] = useState('')\n  const [newNumber, setNumber] = useState('')\n  const [useSearch, setSearch] = useState('')\n  const [useSearchResults, setSearchResults] = useState([])\n\n  const getPeople = () => {\n    services.getAll().then((people) => {\n      console.log(people)\n      setPeople(people)\n    })\n  }\n\n  const postPeople = (name, number) => {\n    const id = usePeople.length + 1\n    services.createNew(name, number, id)\n    getPeople()\n  }\n\n  const updatePerson = (foundPerson) => {\n    services.updatePerson({\n      ...foundPerson,\n      number: newNumber,\n    })\n    formClear()\n  }\n\n  const deleteOne = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      services.deletePerson(id)\n      getPeople()\n    }\n  }\n\n  useEffect(getPeople, [])\n\n  const formClear = () => {\n    getPeople()\n    setName('')\n    setNumber('')\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const filtered = usePeople.some((person) => person.name === newName)\n    console.log(filtered);\n    if (filtered) {\n      const foundPerson = usePeople.find((person) => person.name === newName)\n      if (\n        window.confirm(\n          `${newName} has already been added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        updatePerson(foundPerson)\n      }\n    } else if (!filtered) {\n      postPeople(newName, newNumber)\n      formClear()\n    }\n  }\n\n  const getResults = () => {\n    const searchNames = usePeople.filter((person) => {\n      return person.name.toLowerCase().includes(useSearch.toLowerCase())\n    })\n    setSearchResults(searchNames)\n  }\n\n  return (\n    <div className=\"App\">\n      <h2>Name search</h2>\n      <Search\n        getResults={getResults}\n        useSearch={useSearch}\n        setSearch={setSearch}\n        useSearchResults={useSearchResults}\n      ></Search>\n\n      <h2>Phonebook</h2>\n      <Phonebook\n        newName={newName}\n        setName={setName}\n        newNumber={newNumber}\n        setNumber={setNumber}\n        addPerson={addPerson}\n      ></Phonebook>\n\n      <h2>Numbers</h2>\n      <Numbers usePeople={usePeople} deleteOne={deleteOne}></Numbers>\n    </div>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}