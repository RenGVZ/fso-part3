(this["webpackJsonppart2-server"]=this["webpackJsonppart2-server"]||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),u=n(17),a=n.n(u),s=n(8),o=n(3),i=(n(22),n(0)),j=function(e){var t=e.getResults,n=e.useSearch,c=e.setSearch,r=e.useSearchResults;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},children:["Search:"," ",Object(i.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}}),Object(i.jsx)("button",{type:"submit",children:"Search"})]}),Object(i.jsx)("ul",{style:{listStyle:"none"},children:r.length>0?r.map((function(e){return Object(i.jsxs)("li",{children:["Name: ",e.name," #: ",e.number]},e.name)})):Object(i.jsx)("p",{children:"No results"})})]})},l=function(e){var t=e.newName,n=e.setName,c=e.newNumber,r=e.setNumber,u=e.addPerson;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{onSubmit:u,children:[Object(i.jsxs)("div",{children:["Name:"," ",Object(i.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}}),Object(i.jsxs)("div",{children:["debug: ",t]})]}),Object(i.jsxs)("div",{children:["Number:"," ",Object(i.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)}}),Object(i.jsxs)("div",{children:["debug: ",c]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:{marginTop:"10px"},type:"submit",children:"Add"})})]})})},b=function(e){var t=e.usePeople,n=e.deleteOne;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("ul",{style:{listStyle:"none"},children:t.map((function(e){return Object(i.jsxs)("li",{children:[e.name," ",e.number,Object(i.jsx)("button",{onClick:function(){return t=e.id,c=e.name,void n(t,c);var t,c},children:"Delete"})]},e.name)}))})})},d=n(4),h=n.n(d),m="/api/persons",O=function(){return h.a.get(m).then((function(e){return e.data}))},f=function(e,t,n){return h.a.post(m,{name:e,number:t,id:n}).catch((function(e){return console.log(e)}))},x=function(e){return h.a.put("".concat(m,"/").concat(e.id),e).then((function(e){return e.data}))},p=function(e){return h.a.delete("".concat(m,"/").concat(e)).catch((function(e){return console.log(e)}))};function v(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),a=Object(o.a)(u,2),d=a[0],h=a[1],m=Object(c.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],N=Object(c.useState)(""),w=Object(o.a)(N,2),y=w[0],C=w[1],k=Object(c.useState)([]),P=Object(o.a)(k,2),D=P[0],R=P[1],F=function(){O().then((function(e){console.log(e),r(e)}))};Object(c.useEffect)((function(){return F()}),[]);var A=function(){F(),h(""),S("")};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h2",{children:"Name search"}),Object(i.jsx)(j,{getResults:function(){var e=n.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));R(e)},useSearch:y,setSearch:C,useSearchResults:D}),Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(l,{newName:d,setName:h,newNumber:g,setNumber:S,addPerson:function(e){e.preventDefault();var t=n.some((function(e){return e.name===d}));if(t){var c=n.find((function(e){return e.name===d}));window.confirm("".concat(d," has already been added to the phonebook, replace the old number with a new one?"))&&function(e){x(Object(s.a)(Object(s.a)({},e),{},{number:g})),A()}(c)}else t||(!function(e,t){var c=n.length+1;f(e,t,c)}(d,g),A())}}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(b,{usePeople:n,deleteOne:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(p(e),F())}})]})}a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.81e2c78e.chunk.js.map