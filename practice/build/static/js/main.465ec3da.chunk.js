(this["webpackJsonppart2-server"]=this["webpackJsonppart2-server"]||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),u=n(17),s=n.n(u),a=n(8),o=n(3),i=(n(22),n(0)),l=function(e){var t=e.getResults,n=e.useSearch,c=e.setSearch,r=e.useSearchResults;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},children:["Search:"," ",Object(i.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}}),Object(i.jsx)("button",{type:"submit",children:"Search"})]}),Object(i.jsx)("ul",{style:{listStyle:"none"},children:r.length>0?r.map((function(e){return Object(i.jsxs)("li",{children:["Name: ",e.name," #: ",e.number]},e.name)})):Object(i.jsx)("p",{children:"No results"})})]})},j=function(e){var t=e.newName,n=e.setName,c=e.newNumber,r=e.setNumber,u=e.addPerson;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{onSubmit:u,children:[Object(i.jsxs)("div",{children:["Name:"," ",Object(i.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}}),Object(i.jsxs)("div",{children:["debug: ",t]})]}),Object(i.jsxs)("div",{children:["Number:"," ",Object(i.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)}}),Object(i.jsxs)("div",{children:["debug: ",c]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:{marginTop:"10px"},type:"submit",children:"Add"})})]})})},b=function(e){var t=e.usePeople,n=e.deleteOne;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("ul",{style:{listStyle:"none"},children:t.map((function(e){return Object(i.jsxs)("li",{children:[e.name," ",e.number,Object(i.jsx)("button",{onClick:function(){return t=e.id,c=e.name,void n(t,c);var t,c},children:"Delete"})]},e.name)}))})})},d=n(4),h=n.n(d),f="/api/persons",O=function(){return h.a.get(f).then((function(e){return e.data}))},m=function(e,t,n){return h.a.post(f,{name:e,number:t,id:n})},p=function(e){return h.a.put("".concat(f,"/").concat(e.id),e).then((function(e){return e.data}))},x=function(e){return h.a.delete("".concat(f,"/").concat(e)).catch((function(e){return console.log(e)}))},v=function(e){var t=e.message;return Object(i.jsx)("div",{style:{background:"#f89797",color:"white",position:"absolute",margin:"0 auto",width:"100%",top:"0",padding:"8px",opacity:"70%"},children:t})};function g(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(c.useState)(""),s=Object(o.a)(u,2),d=s[0],h=s[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),S=g[0],w=g[1],N=Object(c.useState)(""),y=Object(o.a)(N,2),k=y[0],C=y[1],P=Object(c.useState)([]),D=Object(o.a)(P,2),R=D[0],E=D[1],F=Object(c.useState)(null),A=Object(o.a)(F,2),J=A[0],L=A[1],T=function(){O().then((function(e){console.log(e),r(e)}))};Object(c.useEffect)(T,[]);var B=function(){T(),h(""),w("")};return Object(c.useEffect)((function(){setTimeout((function(){L(null)}),[5e3])}),[J]),Object(i.jsxs)("div",{className:"App",children:[J&&Object(i.jsx)(v,{message:J}),Object(i.jsx)("h2",{children:"Name search"}),Object(i.jsx)(l,{getResults:function(){var e=n.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));E(e)},useSearch:k,setSearch:C,useSearchResults:R}),Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(j,{newName:d,setName:h,newNumber:S,setNumber:w,addPerson:function(e){e.preventDefault();var t=n.some((function(e){return e.name===d}));if(console.log(t),t){var c=n.find((function(e){return e.name===d}));window.confirm("".concat(d," has already been added to the phonebook, replace the old number with a new one?"))&&function(e){p(Object(a.a)(Object(a.a)({},e),{},{number:S})),B()}(c)}else t||(!function(e,t){var c=n.length+1;m(e,t,c).then((function(e){T()})).catch((function(e){console.log(22,e.response.data.error),L(e.response.data.error)}))}(d,S),B())}}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(b,{usePeople:n,deleteOne:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(x(e),T())}})]})}s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.465ec3da.chunk.js.map